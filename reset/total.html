<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="viewport"
        content="width=device-width, initial-scale=1">
  <title>It's My Demo</title>

  <!-- Set render engine for 360 browser -->
  <meta name="renderer" content="webkit">

  <!-- No Baidu Siteapp-->
  <meta http-equiv="Cache-Control" content="no-siteapp"/>

  <!-- <link rel="icon" type="image/png" href="assets/i/favicon.png"> -->

  <!-- Add to homescreen for Chrome on Android -->
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="icon" sizes="192x192" href="assets/i/app-icon72x72@2x.png">

  <!-- Add to homescreen for Safari on iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Amaze UI"/>
  <link rel="apple-touch-icon-precomposed" href="assets/i/app-icon72x72@2x.png">

  <!-- Tile icon for Win8 (144x144 + tile color) -->
  <meta name="msapplication-TileImage" content="assets/i/app-icon72x72@2x.png">
  <meta name="msapplication-TileColor" content="#0e90d2">



  <link rel="stylesheet" href="assets/css/amazeui.min.css">
  <link rel="stylesheet" href="assets/css/app.css">


  <link rel="stylesheet" type="text/css" href="jquery-easyui-1.5.2/themes/default/easyui.css">
  <link rel="stylesheet" type="text/css" href="jquery-easyui-1.5.2/themes/icon.css">
  <link rel="stylesheet" type="text/css" href="public/css/miaov_style.css">


</head>
<body>

<header data-am-widget="header" class="am-header am-header-default am-header-fixed">
  <div class="am-header-left am-header-nav">
    <a href="#" class="">
      <i class="am-header-icon am-icon-home"></i>
    </a>
  </div>
  <h1 class="am-header-title">
    <a href="#title-link">迪卡侬</a>
  </h1>
  <div class="am-header-right am-header-nav">
      <a href="../login.html" class="">
            切换账号
            <!-- <i class="am-header-icon am-icon-bars"></i> -->
      </a>
  </div>
</header>




<!--<div id="previewtotal" class="easyui-tabs" style="height:auto;margin-top: 50px;">-->
  <!--<div id="storecode" title="门店" style="padding:10px;">

  </div>
  <div id="regioncode" title="区域" style="padding:10px">
        


  </div> -->
  <div id="totalcode" title="总经理" style="padding:10px" data-options="selected:true">

        <div class="am-g" style="">
            <div class="am-u-sm-3">

                <div>
                    <div id="regiontopn" style="width: 100%;height: 250px;"></div>
                </div>
                <div>
                  <div id="storetop10" style="width: 100%;height: 250px;"></div>
                  <div id="countrystoretop10" style="width: 100%;height: 250px;"></div>
                </div>
                  

            </div>
            <div class="am-u-sm-9">
                <div class="am-g">
                  <div class="am-u-sm-4" style="margin-top: 1em;">
                    <table class="am-table am-table-bordered">
                        <caption>Store Review</caption>
                        <thead style="font-size: 12px;">
                            <tr>
                                <th></th>
                                <th>SH</th>
                                <th>EAST</th>
                                <th>SOUTH</th>
                                <th>NORTH</th>
                                <th>WEST</th>
                                <th>Global</th>
                            </tr>
                        </thead>
                        <tbody style="font-size: 11px;">
                            <tr>
                                <td  class="title_td">得分</td>
                                <td>97</td>
                                <td>93</td>
                                <td>91</td>
                                <td>93</td>
                                <td>92</td>
                                <td>98</td>
                            </tr>
                            <tr>
                                <td  class="title_td">评论数</td>
                                <td>91,508</td>
                                <td>96,895</td>
                                <td>50,872</td>
                                <td>93,416</td>
                                <td>26,877</td>
                                <td>159,568</td>
                            </tr>
                        </tbody>
                    </table>


                  </div>
                  <div class="am-u-sm-4" style="margin-top: 1em;">
                    <table class="am-table am-table-bordered">
                        <caption>Till Review</caption>
                        <thead style="font-size: 12px;">
                            <tr>
                                <th></th>
                                <th>SH</th>
                                <th>EAST</th>
                                <th>SOUTH</th>
                                <th>NORTH</th>
                                <th>WEST</th>
                                <th>Global</th>
                            </tr>
                        </thead>
                        <tbody style="font-size: 11px;">
                            <tr>
                                <td  class="title_td">得分</td>
                                <td>98</td>
                                <td>91</td>
                                <td>97</td>
                                <td>96</td>
                                <td>91</td>
                                <td>98</td>
                            </tr>
                            <tr>
                                <td class="title_td">评论数</td>
                                <td>46,972</td>
                                <td>28,260</td>
                                <td>89,710</td>
                                <td>49,339</td>
                                <td>15,213</td>
                                <td>519,494</td>
                            </tr>
                        </tbody>
                    </table>
                  </div>
                  <div class="am-u-sm-4" style="margin-top: 1em;">
                    <table class="am-table am-table-bordered" style="">
                        <caption>Tell Review</caption>
                        
                        <thead style="font-size: 12px;">
                            <tr>
                                <th></th>
                                <th>SH</th>
                                <th>EAST</th>
                                <th>SOUTH</th>
                                <th>NORTH</th>
                                <th>WEST</th>
                                <th>Global</th>
                            </tr>
                        </thead>
                        <tbody style="font-size: 11px;">
                            <tr>
                                <td  class="title_td">得分</td>
                                <td>91</td>
                                <td>96</td>
                                <td>91</td>
                                <td>95</td>
                                <td>97</td>
                                <td>99</td>
                            </tr>
                            <tr>
                                <td  class="title_td">投诉数</td>
                                <td>1.6</td>
                                <td>0.8</td>
                                <td>1.2</td>
                                <td>2.1</td>
                                <td>2.2</td>
                                <td>3.1</td>
                            </tr>
                        </tbody>
                    </table>
                  </div>
                </div>
                <div class="am-g">
                  <div class="am-u-sm-4">
                     <div id="totalstorecharts" style="width: 100%;height: 250px;"></div>
                  </div>
                  <div class="am-u-sm-4">
                    <div id="totaltillcharts" style="width: 100%;height: 250px;"></div>
                  </div>
                  <div class="am-u-sm-4">
                    <div id="totaltellcharts" style="width: 100%;height: 250px;"></div>
                  </div>
                </div>

                  


                  <div class="easyui-tabs" id="tabsMain" data-options="tabWidth:150">  <!--tabWidth:300-->
                      <div title="不满意" style="padding:12px;overflow: hidden;" class=" tabs-cont-noborder">  


                          <div class="am-g">
                            <div class="am-u-sm-6" style="padding-left: 0;">
                              <div id="totalwordunsatisfaction" style="width: 100%;height: 250px;"></div>
                            </div>
                            <div class="am-u-sm-6" style="margin-top: 1.5em;">
                                <table id="produced" class="easyui-datagrid" title="不满意" style="width:100%;height:250px"><!--style="width:700px;height:250px"-->
                                  <!--data-options="rownumbers:true,singleSelect:true,url:'datagrid_data1.json',method:'get'"> -->
                                    <thead data-options="frozen:true">
                                        <tr>
                                            <th data-options="field:'productkind'"></th>
                                            <th data-options="field:'region',width:50">占比</th>
                                            <th data-options="field:'country',width:50">总和</th>
                                        </tr>
                                    </thead>
                                    <thead>
                                        <tr>
                                            <th data-options="field:'1m',width:40,align:'center'">1月</th>
                                            <th data-options="field:'2m',width:40,align:'center'">2月</th>
                                            <th data-options="field:'3m',width:40,align:'center'">3月</th>
                                            <th data-options="field:'4m',width:40,align:'center'">4月</th>
                                            <th data-options="field:'5m',width:40,align:'center'">5月</th>
                                            <th data-options="field:'6m',width:40,align:'center'">6月</th>
                                            <th data-options="field:'7m',width:40,align:'center'">7月</th>
                                            <th data-options="field:'8m',width:40,align:'center'">8月</th>
                                            <th data-options="field:'9m',width:40,align:'center'">9月</th>
                                            <th data-options="field:'10m',width:40,align:'center'">10月</th>
                                            <th data-options="field:'11m',width:40,align:'center'">11月</th>
                                            <th data-options="field:'12m',width:40,align:'center'">12月</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                          </div>


                      </div>  
                      <div title="建议" style="padding:12px;overflow: hidden;">
                          

                        <div class="am-g">
                          <div class="am-u-sm-6">
                              <div id="totalwordsuggest" style="width: 100%;height: 250px;"></div>
                          </div>
                          <div class="am-u-sm-6" style="margin-top: 1.5em;">
                              <table id="suggestid" class="easyui-datagrid" title="建议详细" style="width:100%;height:250px"><!--style="width:700px;height:250px"-->
                                <!--data-options="rownumbers:true,singleSelect:true,url:'datagrid_data1.json',method:'get'"> -->
                                  <thead data-options="frozen:true">
                                      <tr>
                                          <th data-options="field:'productkind'"></th>
                                          <th data-options="field:'region',width:50">占比</th>
                                          <th data-options="field:'country',width:50">总和</th>
                                      </tr>
                                  </thead>
                                  <thead>
                                      <tr>
                                          <th data-options="field:'1m',width:40,align:'center'">1月</th>
                                          <th data-options="field:'2m',width:40,align:'center'">2月</th>
                                          <th data-options="field:'3m',width:40,align:'center'">3月</th>
                                          <th data-options="field:'4m',width:40,align:'center'">4月</th>
                                          <th data-options="field:'5m',width:40,align:'center'">5月</th>
                                          <th data-options="field:'6m',width:40,align:'center'">6月</th>
                                          <th data-options="field:'7m',width:40,align:'center'">7月</th>
                                          <th data-options="field:'8m',width:40,align:'center'">8月</th>
                                          <th data-options="field:'9m',width:40,align:'center'">9月</th>
                                          <th data-options="field:'10m',width:40,align:'center'">10月</th>
                                          <th data-options="field:'11m',width:40,align:'center'">11月</th>
                                          <th data-options="field:'12m',width:40,align:'center'">12月</th>
                                      </tr>
                                  </thead>
                              </table>
                          </div>
                        </div>

                      </div>  
                      <div title="满意" style="padding: 12px;overflow: hidden;">  
                            

                            <div class="am-g">
                              <div class="am-u-sm-6">
                                  <div id="totalwordsatisfaction" style="width: 100%;height: 250px;"></div>
                              </div>
                              <div class="am-u-sm-6" style="margin-top: 1.5em;">
                                  <table id="satisfactid" class="easyui-datagrid" title="建议详细" style="width:100%;height:250px">                                      <thead data-options="frozen:true">
                                          <tr>
                                              <th data-options="field:'productkind'"></th>
                                              <th data-options="field:'region',width:50">占比</th>
                                              <th data-options="field:'country',width:50">总和</th>
                                          </tr>
                                      </thead>
                                      <thead>
                                          <tr>
                                              <th data-options="field:'1m',width:40,align:'center'">1月</th>
                                              <th data-options="field:'2m',width:40,align:'center'">2月</th>
                                              <th data-options="field:'3m',width:40,align:'center'">3月</th>
                                              <th data-options="field:'4m',width:40,align:'center'">4月</th>
                                              <th data-options="field:'5m',width:40,align:'center'">5月</th>
                                              <th data-options="field:'6m',width:40,align:'center'">6月</th>
                                              <th data-options="field:'7m',width:40,align:'center'">7月</th>
                                              <th data-options="field:'8m',width:40,align:'center'">8月</th>
                                              <th data-options="field:'9m',width:40,align:'center'">9月</th>
                                              <th data-options="field:'10m',width:40,align:'center'">10月</th>
                                              <th data-options="field:'11m',width:40,align:'center'">11月</th>
                                              <th data-options="field:'12m',width:40,align:'center'">12月</th>
                                          </tr>
                                      </thead>
                                  </table>
                              </div>
                            </div>
                      </div>  
                  </div> 
            </div>
          </div>


        <div class="am-modal am-modal-alert" tabindex="-1" id="my-alert">
          <div class="am-modal-dialog" style="background-color:black;opacity: 0.82">
            <div id="div1">
                <a href="https://cn.bing.com/" style="font-size:12px;" target="_blank">种类不齐全</a>
                <a href="https://cn.bing.com/" class="red" target="_blank">缺货</a>
                <a href="https://cn.bing.com/" target="_blank">demo1</a>
                <a href="https://cn.bing.com/" target="_blank">demo2</a>
                <a href="https://cn.bing.com/" class="blue" target="_blank">demo3</a>
                <a href="https://cn.bing.com/" target="_blank">demo4</a>
                <a href="https://cn.bing.com/" class="red" target="_blank">demo5</a>
                <a href="https://cn.bing.com/" class="yellow" target="_blank">demo6</a>
                <a href="https://cn.bing.com/" target="_blank">demo7</a>
                <a href="https://cn.bing.com/" class="red" target="_blank">demo8</a>
                <a href="https://cn.bing.com/" target="_blank">demo9</a>
                <a href="https://cn.bing.com/" class="blue" target="_blank">demo10</a>
                <a href="https://cn.bing.com/" target="_blank">demo11</a>
                <a href="https://cn.bing.com/" class="red" target="_blank">demo12</a>
                <a href="https://cn.bing.com/" class="blue" target="_blank">demo13</a>
                <a href="https://cn.bing.com/" target="_blank">demo14</a>
                <a href="https://cn.bing.com/" class="blue" target="_blank">deo15</a>
            </div>
          </div>
        </div>
      
  </div>


<!--</div>-->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="assets/js/amazeui.min.js"></script>
<script type="text/javascript" src="echarts/echarts.min.js"></script>
<!--<script type="text/javascript" src="jquery-tmpl/jquery.tmpl.min.js"></script>-->

<script type="text/javascript" src="jquery-easyui-1.5.2/jquery.easyui.min.js"></script>
<script type="text/javascript" src="public/js/miaov.js"></script>

<script type="text/javascript">
    

    
$(function(){
    
    
  var label=["SH","EAST","SOUTH","NORTH","WEST","Global"];
  var data=["97","91","94","99","94","92"];
  var title="区域概览";
  //topK("regiontopn",label,data,title);
  topL("regiontopn",data,title)




  //TopK 区域门店满意度排行榜
  var topStoreLabel=['浦东店','徐汇店','长宁店','宝山店','青浦店','奉贤店','金山店','杨浦店','普陀店','嘉定店'];
  var topStoreDate=[60,78,80,88,91, 93, 94, 97, 98, 99];
  var topStoreTitle="上海区门店满意度排名Top10";
  topK("storetop10",topStoreLabel,topStoreDate,topStoreTitle)
  //TopK 全国门店满意度排行
  var topCountryLabel=['西安店','上海1店','苏州店','南昌店','武汉店','成都店','太原店','青岛店','深圳2店','北京4店'];
  var topCountryData=['76','80','82','85','90','93','95','96','97','98'];
  var topCountryTitle="全国门店满意度排名Top10";
  topK("countrystoretop10",topCountryLabel,topCountryData,topCountryTitle);





  //Store review对比
  var com_label=["SH","EAST","SOUTH","NORTH","WEST","Global"];
  // var storer_data=["4.61","4.63","4.54","4.60","4.54","4.59","4.61","4.63","4.54","4.60","4.54","4.59"];
  var time_label=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]


  var infos_one=new Array([95,97,95,96,95,97,97],[91,92,97,91,99,91,93],[99,91,96,92,91,98,91],[96,94,97,97,92,97,93],[97,93,97,91,99,91,92])
  var infos_two=new Array([92,93,94,95,96,97,98],[91,92,93,98,97,93,91],[95,92,98,94,91,92,97],[91,93,92,93,94,95,96],[93,92,93,92,94,91,91])
  var infos_three=new Array([95,97,95,96,95,97,91],[95,97,97,96,95,97,96],[95,97,95,96,91,97,91],[95,96,95,96,95,97,95],[91,93,99,97,95,96,97])
  
  compare_score("totalstorecharts",com_label,time_label,"Store review",4.5,infos_one);

  //Till Review对比
  // var till_data=["4.61","4.55","4.58","4.58","4.50","4.57","4.61","4.63","4.54","4.60","4.54","4.59"];
  compare_score("totaltillcharts",com_label,time_label,"Till review",4.4,infos_two)

  //Tel review
  // var tel_data=["4.3","4.36","4.47","4.22","4.21","4.23","4.61","4.63","4.54","4.60","4.54","4.59"]
  compare_score("totaltellcharts",com_label,time_label,"Tell Review",4.1,infos_three)




  //不满意/建议/满意
  //初始化不满意
  var data_unsatisfact=[3900, 3340, 3300, 2200, 2000, 1000, 520];
  wordchartinit("totalwordunsatisfaction","不满意",data_unsatisfact);

  //切换
  tabs()

  //加载数据
  //加载不满意的数据
  loadUnsatisfyData(0)
  //建议
  loadSuggestData(0)
  // 满意
  loadSatisfyData(0)

})
    
    
function topL(divid,data,title){
    
    
   var myChart=echarts.init(document.getElementById(divid));
   var myColor=['#0E90D2','#D53A35','#D53A35','#D53A35','#D53A35','#D53A35'];
   var axisData = ["SH","EAST","SOUTH","NORTH","WEST","Global"];
   var links = data.map(function (item, i) {
    return {
        source: i,
        target: i + 1
    };
});
    
    
   var option = {
    title: {
        text: title
    },
    tooltip: {},
    xAxis: {
        type : 'category',
        boundaryGap : false,
        data : axisData,
        splitLine:{
            show:false,
            lineStyle:{
                color:'#2e3547'
            }
        },
    },
    yAxis: {
        type : 'value',
        max:100,
        min:80,
    },
    series: [
        {
            type: 'graph',
            layout: 'none',
            coordinateSystem: 'cartesian2d',
            symbolSize: 40,
            label: {
                normal: {
                    show: true,
                    textStyle:{
                     fontSize:8,   
                }
                }
            },
            edgeSymbol: ['circle', 'arrow'],
            edgeSymbolSize: [4, 10],
            data: data,
            itemStyle: {
                normal: {
                	// callback,设定每一bar颜色,配置项color顶axis一组bars颜色
                    color: function(params) {
                        var num=myColor.length;
                        return myColor[params.dataIndex%num]
                    }
                }
	   		},
            lineStyle: {
                show:false,
                normal: {
                    color: '#2f4554'
                }
            }
        }
    ]
};
    
    
  myChart.setOption(option);  
    
  myChart.on('click', function (params) {
     if(params.name=="SH"){
        window.location.href="region.html?region="+params.name;
        }
     
 })    
}  
    
    
  //区域排名Top
function topK(divid,label,data,title){
  var myChart=echarts.init(document.getElementById(divid));

  var topoption = {
      title: {
          text: title
          // subtext: ''
      },
      tooltip: {
          trigger: 'axis',
          axisPointer: {
              type: 'shadow'
          }
      },
      legend: {
          data: ['排名']
      },
      grid: {
          left: '3%',
          right: '4%',
          bottom: '3%',
          containLabel: true
      },
      xAxis: {
          type: 'value',
          min:50,
          max:100,
          boundaryGap: [0, 0.01],
           splitLine:{
            show:false,
            lineStyle:{
                color:'#2e3547'
            }
        },
      },
      yAxis: {
          type: 'category',
          data: label
          
      },
      series: [
          {
              name: '分数',
              type: 'bar',
              barWidth: 10,//柱图宽度
              data: data,
              itemStyle:{
                  normal:{
                      color:"#0E90D2"
                  }
              }
          }
      ]
  };
  myChart.setOption(topoption);
  myChart.on('click', function (params) {
      console.log(params.name)
      //点击柱状图，跳转到相应的区域
      switch(params.name){
     /* case 'WEST':
        window.location.href="region.html?region="+params.name;
        break;
      case 'NORTH':
        window.location.href="region.html?region="+params.name;
        break;
      case 'SOUTH':
        window.location.href="region.html?region="+params.name;
        break;
      case 'EAST':
        window.location.href="region.html?region="+params.name;
        break;*/
      case 'SH':
        window.location.href="region.html?region="+params.name;
        break;
    /*  case 'Global':
        window.location.href="region.html?region="+params.name;
        break;*/
      default:
        console.log("不跳转")
      }

  })

}


//折线图
function compare_score(divid,label,time_label,title,minvalue,valueinfo){
    var myChart=echarts.init(document.getElementById(divid)); 
    


    var option = {
      title: {
          text: ""
      },
      tooltip: {
          trigger: 'axis'
      },
      legend: {
          data:label,//['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']
          icon:'rect',
          itemWidth:16,
          itemHeight:8, 
      },
      grid: {
          left: '0%',
          right: '4%',
          bottom: '3%',
          containLabel: true
      },
      // toolbox: {
      //     feature: {
      //         saveAsImage: {}
      //     }
      // },
      xAxis: {
          type: 'category',
          boundaryGap: false,
          data: time_label,
          "axisLabel":{  
              interval: 0  
           },
         
      },
      yAxis: {
          type: 'value',
          min:90,
          max:100,
          splitLine:{
            show:false,
            lineStyle:{
                color:'#2e3547'
            }
        },
      },
      series: [
            {
              name:'SH',
              type:'line',
              smooth:true, 
              symbol:'circle',
              symbolSize:1,
              showAllSymbol:false,
              lineStyle: { //线条样式
              normal: {
                width: 1.5
                  }
              },
              data:valueinfo[0],
             markLine : {
                label:{
	            		normal:{
	            			show:true,
	            			position:'',
	            			formatter:''
	            		}
	            	},
            	lineStyle:{
            		normal:{
            			color:'red'
            		}
            	},
            	symbol:'none',
                silent:'true',
                data : [
                    {
                        name: '标准值',
                        yAxis: 96
                    },
                ]
            }
                
                
          },
          {
              name:'EAST',
              type:'line',
              smooth:true, 
              symbol:'circle',
              symbolSize:1,
              showAllSymbol:false,
              lineStyle: { //线条样式
              normal: {
                width: 1.5
                  }
              },
              data:valueinfo[1]
          },
          {
              name:'SOUTH',
              type:'line',
              smooth:true, 
              symbol:'circle',
              symbolSize:1,
              showAllSymbol:false,
              lineStyle: { //线条样式
              normal: {
                width: 1.5
                  }
              },
              data:valueinfo[2]
          },
          {
              name:'NORTH',
              type:'line',
              smooth:true, 
              symbol:'circle',
              symbolSize:1,
              showAllSymbol:false,
              lineStyle: { //线条样式
              normal: {
                width: 1.5
                  }
              },
              data:valueinfo[3]
          },
          {
              name:'WEST',
              type:'line',
              smooth:true, 
              symbol:'circle',
              symbolSize:1,
              showAllSymbol:false,
              lineStyle: { //线条样式
              normal: {
                width: 1.5
                  }
              },
              data:valueinfo[4]
          }
      ]
  };





  myChart.clear()
  myChart.setOption(option);
  window.addEventListener("resize",function(){
    myChart.resize();
  })
}




//初始化不满意||建议||满意
function wordchartinit(divid,title,data){
    var wordChart=echarts.init(document.getElementById(divid));
    var myColor=['#D53A35','#D53A35','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2'];
    // 词频
    var wordOption = {
        color: ['#3398DB'],
        tooltip : {
            trigger: 'axis',
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        title: {
            text: title
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                "axisLabel":{  
                    interval: 0  
                },
                data : ['产品', '销售助理', '开店策略', '产品库存', '客服助理', '收银助理', '官网'],
                axisTick: {
                    alignWithLabel: true
                }
            }
        ],
        yAxis : [
            {
                type : 'value'
            }
        ],
        series : [
            {
                name:title+'个数',
                type:'bar',
                barWidth: '60%',
                data:data,
                itemStyle: {
                normal: {
                	// callback,设定每一bar颜色,配置项color顶axis一组bars颜色
                    color: function(params) {
                        var num=myColor.length;
                        return myColor[params.dataIndex%num]
                    }
                }
	   		}
            }
        ]
    };
  wordChart.clear()
  wordChart.setOption(wordOption);
  wordChart.on('click', function (params) {
      // console.log(params.dataIndex);

      switch(title){
      case '不满意':
        loadUnsatisfyData(params.dataIndex)
        break;
      case '建议':
        loadSuggestData(params.dataIndex)
        break;
      case '满意':
        loadSatisfyData(params.dataIndex)
        break;
      default:
        console.log("暂时还没测试到这一步")
      }

      
  });
  
  window.addEventListener("resize",function(){
    wordChart.resize();
  })
  
}

//切换tabs
function tabs(){
  $('#tabsMain').tabs({      
    border:true,      
    onSelect:function(title,index){   
          console.log(title+",index:"+index);

          switch(index){
          case 0:
              var data_unsatisfact=[3900, 3340, 3300, 2200, 2000, 1000, 520];
              wordchartinit("totalwordunsatisfaction",title,data_unsatisfact);
            break;
          case 1:
              //建议
              var data_suggest=[3200, 2300, 1050, 720, 340, 200, 100];
              wordchartinit("totalwordsuggest",title,data_suggest);
            break;
          case 2:
              //满意
              var data_satisfact=[3300, 3240, 1250, 1200, 1200, 1000, 220];
              wordchartinit("totalwordsatisfaction",title,data_satisfact);
            break;
          default:
            console.log("暂时还没测试到这一步")
          }
    }      
  });  
}
</script>


<script type="text/javascript">
  //加载表格数据，这里可读性太差，而且如果用后台数据的话，这里会方便太多
  //加载不满意的数据
function loadUnsatisfyData(index){


var obj0 = {"total":5,"rows":[  
            {"productkind":"产品种类","region":'12%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品库存","region":'18%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品设计问题","region":'25%',"country":54,"1m":18,"2m":34,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":0.87},  
            {"productkind":"产品质量","region":'18%',"country":65,"1m":38,"2m":33,"3m":22,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品价格/性价比","region":'7%',"country":77,"1m":26,"2m":33,"3m":33,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"配件","region":'20%',"country":76,"1m":35,"2m":22,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87}
        ]}
  var obj1 = {"total":5,"rows":[  
            {"productkind":"服务态度","region":'23%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"专业技能","region":'17%',"country":54,"1m":18,"2m":34,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"人手不足","region":'25%',"country":65,"1m":38,"2m":33,"3m":22,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"工作效率","region":'15%',"country":77,"1m":26,"2m":33,"3m":33,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"收银与支付","region":'20%',"country":76,"1m":35,"2m":22,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87}
        ]}

  switch(index){
  case 0:
    $("#produced").datagrid({title:'产品信息'}); 
    $('#produced').datagrid('loadData',obj0);
    break;
  case 1:
    $("#produced").datagrid({title:'销售信息'}); 
    $('#produced').datagrid('loadData',obj1);
    break;
  default:
    console.log("暂时还没测试到这一步")
  }
  $('#produced').datagrid('reload');
}

//加载建议的数据
function loadSuggestData(index){


  var obj0 = {"total":5,"rows":[  
            {"productkind":"产品种类","region":'12%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品库存","region":'18%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品设计问题","region":'25%',"country":54,"1m":18,"2m":34,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":0.87},  
            {"productkind":"产品质量","region":'18%',"country":65,"1m":38,"2m":33,"3m":22,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品价格/性价比","region":'7%',"country":77,"1m":26,"2m":33,"3m":33,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"配件","region":'20%',"country":76,"1m":35,"2m":22,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87}
        ]}
  var obj1 = {"total":5,"rows":[  
            {"productkind":"服务态度","region":'23%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"专业技能","region":'17%',"country":54,"1m":18,"2m":34,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"人手不足","region":'25%',"country":65,"1m":38,"2m":33,"3m":22,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"工作效率","region":'15%',"country":77,"1m":26,"2m":33,"3m":33,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"收银与支付","region":'20%',"country":76,"1m":35,"2m":22,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87}
        ]}

  switch(index){
  case 0:
    $("#suggestid").datagrid({title:'产品信息'}); 
    $('#suggestid').datagrid('loadData',obj0);
    break;
  case 1:
    $("#suggestid").datagrid({title:'销售信息'}); 
    $('#suggestid').datagrid('loadData',obj1);
    break;
  default:
    console.log("暂时还没测试到这一步")
  }
  $('#suggestid').datagrid('reload');
}
//加载满意的数据
function loadSatisfyData(index){


  var obj0 = {"total":5,"rows":[  
            {"productkind":"产品种类","region":'12%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品库存","region":'18%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品设计问题","region":'25%',"country":54,"1m":18,"2m":34,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":0.87},  
            {"productkind":"产品质量","region":'18%',"country":65,"1m":38,"2m":33,"3m":22,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"产品价格/性价比","region":'7%',"country":77,"1m":26,"2m":33,"3m":33,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"配件","region":'20%',"country":76,"1m":35,"2m":22,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87}
        ]}
  var obj1 = {"total":5,"rows":[  
            {"productkind":"服务态度","region":'23%',"country":43,"1m":36,"2m":23,"3m":34,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"专业技能","region":'17%',"country":54,"1m":18,"2m":34,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"人手不足","region":'25%',"country":65,"1m":38,"2m":33,"3m":22,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"工作效率","region":'15%',"country":77,"1m":26,"2m":33,"3m":33,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87},  
            {"productkind":"收银与支付","region":'20%',"country":76,"1m":35,"2m":22,"3m":11,"4m":123,"5m":33,"6m":32,"7m":55,"8m":12,"9m":22,"10m":44,"11m":33,"12m":87}
        ]}

  switch(index){
  case 0:
    $("#satisfactid").datagrid({title:'产品信息'}); 
    $('#satisfactid').datagrid('loadData',obj0);
    break;
  case 1:
    $("#satisfactid").datagrid({title:'销售信息'}); 
    $('#satisfactid').datagrid('loadData',obj1);
    break;
  default:
    console.log("暂时还没测试到这一步")
  }
  $('#satisfactid').datagrid('reload');
}
    
    
/*词云*/ 
 $('#produced').datagrid({
	onDblClickRow: function(index,field,value){
		$('#my-alert').modal('open')
      
	}
});
     $('#suggestid').datagrid({
	onDblClickRow: function(index,field,value){
		$('#my-alert').modal('open')
      
	}
});
     $('#satisfactid').datagrid({
	onDblClickRow: function(index,field,value){
		$('#my-alert').modal('open')
      
	}
});
    
</script>




</body>
</html>
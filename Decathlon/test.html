<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Decathlon</title>
  <meta name="description" content="demo">
  <meta name="keywords" content="迪卡龙">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <link rel="icon" type="image/png" href="">
  <link rel="apple-touch-icon-precomposed" href="">
  <meta name="apple-mobile-web-app-title" content="" />
  <link rel="stylesheet" href="assets/css/amazeui.min.css"/>
  <link rel="stylesheet" href="assets/css/admin.css">
  <link rel="stylesheet" href="assets/css/app.css">
 
 
</head>
<body>
<!--[if lte IE 9]>
<p class="browsehappy">你正在使用<strong>过时</strong>的浏览器，暂不支持。 请 <a href="http://browsehappy.com/" target="_blank">升级浏览器</a>
  以获得更好的体验！</p>
<![endif]-->





  <!-- content start -->
  <div class="admin-content">
    <div class="admin-content-body">
		
	
		<!-- <div class="am-g am-g-collapse"> -->
		  <!-- <div class="am-u-lg-3"> -->
			<!-- <span class="am-show-md-down" style="background-color:#ccc">sm-full</span> -->
			<!-- <span class="am-show-lg-only">lg-3</span> -->
		  <!-- </div> -->
		  <!-- <div class="am-u-lg-6"> -->
			<!-- <span class="am-show-md-down" style="background-color:#ccc">sm-full</span> -->
			<!-- <span class="am-show-lg-only">lg-6</span> -->
		  <!-- </div> -->
		  <!-- <div class="am-u-lg-3"> -->
			<!-- <span class="am-show-md-down">sm-full</span> -->
			<!-- <span class="am-show-lg-only">lg-3</span> -->
		  <!-- </div> -->
		<!-- </div> -->
		
		<div class="am-g am-g-collapse">
		   <div class="am-u-sm-12">
			 <section class="sec-title-colcos">
				 <strong>综合得分:74.6 排名:3 </strong><img src="assets/img/th.jpg">
			 </section>
		   </div>
		</div>
		
		
		
		<div class="am-g">
		  <div class="am-u-md-4 am-u-sm-12 am-u-lg-3">
                <div>
				 
                  <div id="storetop10" style="width: 100%;height: 500px;"></div>
                  <div id="countrystoretop10" style="width: 100%;height: 300px;"></div>
                </div>          
		  </div>
		  
		  
		  <div class="am-u-md-8 am-u-sm-12 am-u-lg-9">
		  
		  
			<div class="am-g">
				<div class="am-u-md-4 am-u-sm-12 am-u-lg-4 ">
					<table class="am-table am-table-bordered am-table-radius  am-table-compact">
						<thead>
						<tr>
						  <th colspan="3" style="text-align:center;">Store Review</th>
						</tr>
						<tr>
						  <th>ID</th><th>得分</th><th>评论数</th>
						</tr>
						</thead>
						<tbody>
							<tr>
								<td>本区域</td>
								<td>64.5</td>
								<td>2,281</td>
							
							</tr>
							<tr>
								<td>区域平均</td>
								<td>61.3</td>
								<td>3,685</td>
							</tr>
							<tr>
								<td>全国平均</td>
								<td>60.2</td>
								<td>18,425</td>
							</tr>
							
							
							
						</tbody>
					</table>
					<div id="totalstorecharts" style="width: 100%;height: 250px;"></div>
					
				
				</div>
				<div class="am-u-md-4 am-u-sm-12 am-u-lg-4 ">
					<table class="am-table am-table-bordered am-table-radius am-table-compact">
						<thead>
						<tr>
						  <th colspan="4" style="text-align:center;">Till Review</th>
						</tr>
						<tr>
						  <th>ID</th><th>得分</th><th>评论数</th>
						</tr>
						</thead>
						<tbody>
						<tr>
								<td>本区域</td>
								<td>90.1</td>
								<td>760,443</td>
							
							</tr>
							<tr>
								<td>区域平均</td>
								<td>90.3</td>
								<td>1,158,126</td>
							</tr>
							<tr>
								<td>全国平均</td>
								<td>90.2</td>
								<td>5,790,631</td>
							</tr>
							
							
						</tbody>
					</table>
					<div id="totaltillcharts" style="width: 100%;height: 250px;"></div>
					
				</div>
				<div class="am-u-md-4 am-u-sm-12 am-u-lg-4 ">
					<table class="am-table am-table-bordered am-table-radius am-table-compact">
						<thead>
						<tr>
						  <th colspan="4" style="text-align:center;">Tell Review</th>
						</tr>
						<tr>
						  <th>ID</th><th>得分</th><th>评论数</th>
						</tr>
						</thead>
						<tbody>
							<tr>
								<td>本区域</td>
								<td>89.4</td>
								<td>60</td>
							
							</tr>
							<tr>
								<td>区域平均</td>
								<td>89.7</td>
								<td>109</td>
							</tr>
							<tr>
								<td>全国平均</td>
								<td>89.9</td>
								<td>546</td>
							</tr>
						</tbody>
					</table>
					<div id="totaltellcharts" style="width: 100%;height: 250px;"></div>
				
				</div>
			
			
			</div>
			<div class="am-g">
				<div class="am-u-md-12 am-u-sm-12 am-u-lg-12 ">
					<div class="am-tabs" data-am-tabs="{noSwipe: 1}" id="doc-my-tabs"> 
					
					  <ul class="am-tabs-nav am-nav am-nav-tabs">
						<li class="am-active"><a href="#tab1">不满意</a></li>
						<li><a href="#tab2">建议</a></li>
						<li><a href="#tab3">满意</a></li>
					  </ul>
					  
					  <div class="am-tabs-bd">
						<div class="am-tab-panel am-fade am-in am-active" id="tab1">
							<div class="am-g">
								<div class="am-u-md-6 am-u-sm-12 am-u-lg-6 ">
									<div id="wordunsatisfaction" style="width: 100%;height: 280px;"></div>
								</div>
								
								<div class="am-u-md-6 am-u-sm-12 am-u-lg-6 ">
									<table id="my-table" style="background-color:#fff" class="am-table  am-table-compact am-table-striped "></table>
								</div>
								
							</div>
						 
						</div>
						<div class="am-tab-panel am-fade" id="tab2">
							<div class="am-g">
								<div class="am-u-md-4 am-u-sm-12 am-u-lg-6 ">
									<div id="wordsuggest" style="width: 100%;height: 280px;"></div>
								</div>
								<div class="am-u-md-4 am-u-sm-12 am-u-lg-6 ">									
										<table id="my-table-one" style="background-color:#fff" class="am-table  am-table-compact am-table-striped "></table>
								   
								</div>
								
							</div>
						</div>
						<div class="am-tab-panel am-fade" id="tab3">
							<div class="am-g">
								<div class="am-u-md-4 am-u-sm-12 am-u-lg-6 ">
									<div id="wordsatisfaction" style="width: 100%;height: 280px;"></div>
								</div>
								<div class="am-u-md-4 am-u-sm-12 am-u-lg-6 ">
									<table id="my-table-two" style="background-color:#fff" class="am-table  am-table-compact am-table-striped "></table>
								</div>
							</div>
						  
						</div>
					  </div>
					</div>
				</div>
			</div>
		  </div>
		</div>
		
      </div>
    </div>

	<!-- footer start -->
    <footer class="admin-content-footer">
      <hr>
      <p class="am-padding-left">© 2017 Decathlon</p>
    </footer>

  </div>
  <!-- content end -->
</div>

<!-- <a href="#" class="am-icon-btn am-icon-th-list am-show-sm-only admin-menu" data-am-offcanvas="{target: '#admin-offcanvas'}"></a> -->

<footer>
  <hr>
  <p class="am-padding-left">© 2017 Decathlon</p>
</footer>

<!--[if lt IE 9]>
<script src="http://libs.baidu.com/jquery/1.11.1/jquery.min.js"></script>
<script src="http://cdn.staticfile.org/modernizr/2.8.3/modernizr.js"></script>
<script src="assets/js/amazeui.ie8polyfill.min.js"></script>
<![endif]-->

<!--[if (gte IE 9)|!(IE)]><!-->
<script src="assets/js/jquery.min.js"></script>
<!--<![endif]-->
<script src="assets/js/amazeui.min.js"></script>
<script type="text/javascript" src="assets/echarts/echarts.min.js"></script>




<script>
var param1=0;
$(function(){
  var param=getQueryString("region")
   param1=getQueryString("total")
  
  if (param) {
      $("#title-show").hide();
	  $("#forback").show();
      $("#titlelg").text(param+"区域");
	  $("#titlesm").text(param+"区域");
  } else {
    console.log("正常进入");
  }
})

function getQueryString(name) { 
  var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i"); 
  var r = window.location.search.substr(1).match(reg); 
  if (r != null) return unescape(r[2]); return null; 
}


$(function (){
    
   
  
  var topStoreLabel=['顾村店', '长宁店', '曹杨店', '淀山湖', '世博源', '大连路店', '共和新路 ', '莘松店', '澄浏店', '顾戴店', '金桥店', '莘庄店', '武宁店', '五角场', '大华店', '七宝店 ', '花木店', '宝山店', '江川店 ', '徐泾']
  var topStoreDate=[30.3, 43.9, 46.9, 47.7, 48.2, 49.1, 49.3, 49.9, 50.4, 52.2, 53.9, 54.8, 56.4, 56.6, 57.8, 59.7, 60.5, 61.2, 62.2, 65.7]
  var topStoreTitle="门店概览";
  topKshow("storetop10",topStoreLabel,topStoreDate,topStoreTitle,0)
  
  
  
	//表格

  
})


//tab切换
//不满意
$('#doc-my-tabs').find('a').on('opened.tabs.amui', function(e) {
  console.log('[%s] 选项卡打开了', $(this).text());
})



	
	
//可点击显示要求 柱状图
function topKshow(divid,label,data,title,minvalue){
  var myChart=echarts.init(document.getElementById(divid));

  var myColor=['#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#0E90D2','#d53a35'];
    
  var topoption = {
      title: {
          text: title
          // subtext: ''
      },
      tooltip: {
          trigger: 'axis',
          axisPointer: {
              type: 'shadow'
          }
      },
      legend: {
          data: ['排名']
      },
      grid: {
          left: '3%',
          right: '4%',
          bottom: '5%',
         
          containLabel: true
      },
      xAxis: {
          type: 'value',
          boundaryGap: [0, 0.01],
          min:minvalue,
          max:100,
          splitLine:{
            show:false,
            lineStyle:{
                color:'#2e3547'
            }
        },
      },
      yAxis: {
          type: 'category',
          data: label
      },
      series: [
          {
              name: '分数',
              type: 'bar',
              barWidth: 10,//柱图宽度
              data: data,
              itemStyle: {
			  
                normal: {
				 barBorderRadius: 7,
                	// callback,设定每一bar颜色,配置项color顶axis一组bars颜色
                    color: function(params) {
                        var num=myColor.length;

                        return myColor[params.dataIndex%num]
                    }
                }
	   		}
          }
      ]
  };
  myChart.setOption(topoption);
  window.addEventListener("resize",function(){
    myChart.resize();
  })
  myChart.on('click', function (params) {
      console.log(params.name)
      //点击柱状图，跳转到相应的区域
	  var hr="index.html?region="+params.name
	  if(param1==1){
		  hr="index.html?region="+params.name+"&total=1"
	  }
      switch(params.name){
      case '徐泾':
        window.location.href=hr;
        break;
      default:
        console.log("不跳转")
      }

  })

}   

//柱状图加载    
function topK(divid,label,data,title,minvalue){
  var myChart=echarts.init(document.getElementById(divid));

  var topoption = {
      title: {
          text: title
          // subtext: ''
      },
      tooltip: {
          trigger: 'axis',
          axisPointer: {
              type: 'shadow'
          }
      },
      legend: {
          data: ['排名']
      },
      grid: {
          left: '3%',
          right: '4%',
          bottom: '5%',
         
          containLabel: true
      },
      xAxis: {
          type: 'value',
          boundaryGap: [0, 0.01],
          min:minvalue,
          max:100,
          splitLine:{
            show:false,
            lineStyle:{
                color:'#2e3547'
            }
        },
      },
      yAxis: {
          type: 'category',
          data: label
      },
      series: [
          {
              name: '分数',
              type: 'bar',
              barWidth: 14,//柱图宽度
              data: data,
              itemStyle:{
                  emphasis: {
                        barBorderRadius: 7
                    },
                    normal: {
                        barBorderRadius: 7,
						color: new echarts.graphic.LinearGradient(
                            0, 0, 1, 0,
                            [
                                {offset: 0, color: '#3977E6'},
                                {offset: 1, color: '#37BBF8'}

                            ]
                        )
                    }
              }
          }
      ]
  };
  myChart.setOption(topoption);
  window.addEventListener("resize",function(){
    myChart.resize();
  })
  myChart.on('click', function (params) {
      console.log(params.name)
      //点击柱状图，跳转到相应的区域
      switch(params.name){
      case '嘉定店':
        window.location.href="index.html?region="+params.name;
        break;
      default:
        console.log("不跳转")
      }

  })

}    


//得分折线图
function compare_score(divid,label,time_label,title,minvalue,valueinfo){
    var myChart=echarts.init(document.getElementById(divid)); 
    


    var option = {
      title: {
          text: ""
      },
      tooltip: {
          trigger: 'axis'
      },
      legend: {
          data:label,
          icon:'rect',
          itemWidth:16,
          itemHeight:8, 
      },
      grid: {
          left: '0%',
          right: '4%',
          bottom: '3%',
          containLabel: true
      },
      // toolbox: {
      //     feature: {
      //         saveAsImage: {}
      //     }
      // },
      xAxis: {
          type: 'category',
          boundaryGap: false,
          data: time_label,
          "axisLabel":{  
              interval: 0  
           },
         
      },
      yAxis: {
          type: 'value',
          min:minvalue,
          max:100,
          splitLine:{
            show:false,
            lineStyle:{
                color:'#2e3547'
            }
        },
      },
      series: [
            {
              name:'本区域',
              type:'line',
              smooth:true, 
              symbol:'circle',
              symbolSize:1,
              showAllSymbol:false,
              lineStyle: { //线条样式
              normal: {
                width: 1.5
                  }
              },
              data:valueinfo[0],
          
          },
          {
              name:'全国',
              type:'line',
              smooth:true, 
              symbol:'circle',
              symbolSize:1,
              showAllSymbol:false,
              lineStyle: { //线条样式
              normal: {
                width: 1.5
                  }
              },
              data:valueinfo[1]
          }
      ]
  };

  myChart.clear()
  myChart.setOption(option);
  window.addEventListener("resize",function(){
    myChart.resize();
  })
}

   
  //初始化不满意||建议||满意
function wordchartinit(divid,title,data,titlevalue){
    var wordChart=echarts.init(document.getElementById(divid));
    var myColor=['#0E90D2','#0E90D2','#0E90D2','#0E90D2','#D53A35','#D53A35'];
 
    var wordOption = {
        color: ['#3398DB'],
        tooltip : {
            trigger: 'axis',
            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
            }
        },
        title: {
            text: title
        },
        grid: {
            left: '-18%',
            right: '15%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'value',
                "axisLabel":{  
                    interval: 0  
                },
               
                axisTick: {
                    alignWithLabel: true
                }
            }
        ],
        yAxis : [
            {
                type : 'category',
				data : titlevalue,
				show: false
            }
        ],
        series : [
            {
                name:title,
                type:'bar',
                barWidth: '70%',
                data:data,
				label: {
					normal: {
                    show: true,
                    position: 'right',
					formatter: '{b},{c}'
                }
            },
                itemStyle: {
					emphasis: {
                        barBorderRadius: 1
                    },
                    normal: {
                        barBorderRadius: 7,
						<!-- color: new echarts.graphic.LinearGradient( -->
                            <!-- 0, 0, 1, 0, -->
                            <!-- [ -->
                                <!-- {offset: 0, color: '#3977E6'}, -->
                                <!-- {offset: 1, color: '#37BBF8'} -->

                            <!-- ] -->
                        <!-- ), -->
						color: function(params) {
                        var num=myColor.length;
                        return myColor[params.dataIndex%num]
                    }
                    }
            
	   		}
               
	   		}
            
        ]
    };
  wordChart.clear()
  wordChart.setOption(wordOption);
  wordChart.on('click', function (params) { 
        console.log(params.dataIndex);
		
	
		
		if(params.seriesName=="不满意"){
			if(params.name=="产品"){
				ininttable(dataSet);
			}
			if(params.name=="商场管理"){
				ininttable(dataSet1);
			}
		}
		
		dataSet2_1
		
		if(params.seriesName=="建议"){
			if(params.name=="商场管理"){
				ininttableone(dataSet2);
			}
			if(params.name=="销售/客服/收银助理"){
				ininttableone(dataSet2_1);
			}
		}
		
		
		if(params.seriesName=="满意"){
			if(params.name=="产品"){
				ininttabletwo(dataSet4);
			}
			if(params.name=="无具体评价"){
				ininttabletwo(dataSet3);
			}
		}
		
  });
  
  window.addEventListener("resize",function(){
    wordChart.resize();
  })
  
}  

</script>


</body>
</html>
